{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://ids.tetrascience.com/client-regeneron/cro-standard-manifest/v2.0.0/schema.json",
  "type": "object",
  "required": [
    "@idsType",
    "@idsNamespace",
    "@idsVersion",
    "@idsConventionVersion",
    "cro",
    "mapping_version",
    "cro_manifest",
    "standard_manifest",
    "lims_output",
    "transactional_log",
    "error_log"
  ],
  "additionalProperties": false,
  "definitions": {
    "samples_table": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["line", "column_name", "value"],
        "additionalProperties": false,
        "properties": {
          "line": {
            "type": "number"
          },
          "column_name": {
            "type": ["string", "null"]
          },
          "value": {
            "type": ["string", "null"]
          }
        }
      }
    }
  },
  "properties": {
    "@idsType": {
      "type": "string",
      "const": "cro-standard-manifest"
    },
    "@idsNamespace": {
      "type": "string",
      "const": "client-regeneron"
    },
    "@idsVersion": {
      "type": "string",
      "const": "v2.0.0"
    },
    "@idsConventionVersion": {
      "type": "string",
      "const": "v1.0.0"
    },
    "cro": {
      "type": "string"
    },
    "mapping_version": {
      "type": "string"
    },
    "cro_manifest": {
      "$ref": "#/definitions/samples_table"
    },
    "standard_manifest": {
      "$ref": "#/definitions/samples_table"
    },
    "lims_output": {
      "$ref": "#/definitions/samples_table"
    },
    "transactional_log": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "line",
          "cro_standard_manifest_column",
          "message",
          "new_value",
          "old_value"
        ],
        "additionalProperties": false,
        "properties": {
          "line": {
            "type": ["number", "null"]
          },
          "cro_standard_manifest_column": {
            "type": ["string", "null"]
          },
          "message": {
            "type": ["string", "null"]
          },
          "new_value": {
            "type": ["string", "null"]
          },
          "old_value": {
            "type": ["string", "null"]
          }
        }
      }
    },
    "error_log": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "type",
          "line",
          "cro_standard_manifest_column",
          "message",
          "level"
        ],
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": ["string", "null"]
          },
          "line": {
            "type": ["number", "null"]
          },
          "cro_standard_manifest_column": {
            "type": ["string", "null"]
          },
          "message": {
            "type": ["string", "null"]
          },
          "level": {
            "type": "string",
            "enum": ["error", "warning"],
            "description": "Entry severity level"
          }
        }
      }
    }
  }
}